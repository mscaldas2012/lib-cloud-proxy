<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CloudStorage.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">lib-cloud-proxy</a> &gt; <a href="index.source.html" class="el_package">gov.cdc.ncezid.cloud.storage</a> &gt; <span class="el_source">CloudStorage.kt</span></div><h1>CloudStorage.kt</h1><pre class="source lang-java linenums">package gov.cdc.ncezid.cloud.storage

import gov.cdc.ncezid.cloud.ProviderMeta
import io.micronaut.http.MediaType
import java.io.InputStream

// TODO - consider splitting interface, one with default bucket and one without


const val META_CONTENT_LENGTH = &quot;content_length&quot;
const val META_CONTENT_TYPE = &quot;content_type&quot;
const val META_CONTENT_ENCODING = &quot;content_encoding&quot;

/**
 *
 *
 * @Created - 9/18/20
 * @Author Marcelo Caldas mcq1@cdc.gov
 */
interface CloudStorage : ProviderMeta {
<span class="nc" id="L21">    fun list(bucket: String, maxNumber: Int, prefix: String? = null): List&lt;String&gt;</span>
<span class="nc" id="L22">    fun list(maxNumber: Int, prefix: String? = null): List&lt;String&gt;</span>
    fun listFolders(bucket: String): List&lt;String&gt;
    fun listFolders(): List&lt;String&gt;
    fun getFile(fileName: String): CloudFile
    fun getFile(bucket: String, fileName: String): CloudFile =
<span class="nc" id="L27">        CloudFile(bucket, fileName, getMetadata(bucket, fileName), getFileContent(bucket, fileName))</span>
    fun getFileContent(bucket: String, fileName: String): String
    fun getFileContent(fileName: String): String
    fun getFileContentAsInputStream(bucket: String, fileName: String): InputStream
    fun getFileContentAsInputStream(fileName: String): InputStream
<span class="nc" id="L32">    fun getMetadata(bucket: String, fileName: String, urlDecode: Boolean = true): Map&lt;String, String&gt;</span>
<span class="nc" id="L33">    fun getMetadata(fileName: String, urlDecode: Boolean = true): Map&lt;String, String&gt;</span>
    fun getDefaultBucket(): String

<span class="nc" id="L36">    fun saveFile(bucket: String, fileName: String, content:String, metadata: Map&lt;String, String&gt;? = null, contentType: String = MediaType.TEXT_PLAIN)</span>
<span class="nc" id="L37">    fun saveFile(bucket: String, fileName: String, content:InputStream, size: Long, metadata: Map&lt;String, String&gt;?, contentType: String = MediaType.TEXT_PLAIN)</span>
<span class="nc" id="L38">    fun saveFile(fileName: String, content:String, metadata: Map&lt;String, String&gt;? = null, contentType: String = MediaType.TEXT_PLAIN)</span>
<span class="nc" id="L39">    fun saveFile(fileName: String, content:InputStream, size: Long, metadata: Map&lt;String, String&gt;?, contentType: String = MediaType.TEXT_PLAIN)</span>
    fun deleteFile(bucket:String, fileName: String): Int
    fun deleteFile(fileName: String): Int

    fun healthCheck(): String
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>